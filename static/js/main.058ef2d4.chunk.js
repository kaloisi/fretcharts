(this.webpackJsonpfretcharts=this.webpackJsonpfretcharts||[]).push([[0],{16:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var s=n(1),r=n.n(s),o=n(11),i=n.n(o),a=(n(16),n(17),n(2)),c=n(3),l=n(5),u=n(4),h=(n(18),n(7)),f=n(0),b=50,p=50,d=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(a.a)(this,n),(s=t.call(this,e)).state={toneState:e.value},s.select=s.select.bind(Object(h.a)(s)),s}return Object(c.a)(n,[{key:"select",value:function(e){e.stopPropagation(),e.preventDefault(),this.props.onClick(this.props.value)}},{key:"cacluatePointOnCircle",value:function(e,t){var n=e*(Math.PI/180);return{x:Math.cos(n)*t,y:Math.sin(n)*t}}},{key:"createLinesAlongCurve",value:function(e,t,n){for(var s="M "+b+" "+(this.props.scales.length>1?p:p-n)+" \n",r=e;r<t+5;r+=5){var o=Math.min(r,t),i=this.cacluatePointOnCircle(o,n);s+=" L "+(b+i.x)+" "+(p+i.y)+" \n"}return s+" z"}},{key:"createPath",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.scales.length,n=this.props.isInKey?"black":"#ccc",s=t>0?360/t:0,r=this.state.toneState.usedIn.size>0,o=0;return Object(f.jsx)("div",{id:this.props.id,onClick:this.select,className:"note",children:Object(f.jsxs)("svg",{children:[this.props.scales.map((function(t){o+=1;var n=e.state.toneState.isUsedInScale(t);if(r&&n){var i=e.state.toneState.getIntervalLabel(t),a=(o-1)*s-90,c=o*s-90,l=e.cacluatePointOnCircle((c+a)/2,30);return Object(f.jsxs)("g",{children:[Object(f.jsx)("path",{fill:t.color,opacity:t.enabled?1:.25,stroke:"black",d:e.createLinesAlongCurve(a,c,40)}),Object(f.jsx)("text",{x:b+l.x,y:p+l.y,fontSize:"16",stroke:t.enabled?"white":"black",dominantBaseline:"central",textAnchor:"middle",children:i})]},e.props.id+"."+o)}return"<path />"})),Object(f.jsx)("circle",{cx:b,cy:p,r:40/3,stroke:"black",strokeWidth:"1",fill:"#ccc"},this.props.id+"circle"),Object(f.jsx)("text",{x:b,y:p,fill:n,fontSize:"20",dominantBaseline:"central",textAnchor:"middle",children:this.props.value.name},this.props.id+"text")]})},this.props.id)}}]),n}(r.a.Component),O=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(a.a)(this,n),(s=t.call(this,e)).state={stringState:e.value},s}return Object(c.a)(n,[{key:"render",value:function(){for(var e=this,t=[],n=function(){var n=e.state.stringState.tones[s],r=e.props.musicKey.tones.find((function(e){return e===n.name}));t.push(Object(f.jsx)(d,{onClick:e.props.onClick,isInKey:r,scales:e.props.scales,value:n},n.uid))},s=0;s<this.state.stringState.tones.length;s++)n();return Object(f.jsx)("div",{className:"string",children:t})}}]),n}(r.a.Component),g=(n(20),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(a.a)(this,n),(s=t.call(this,e)).state={value:e.value},s}return Object(c.a)(n,[{key:"selectOption",value:function(e){var t=this.props.options.find((function(t){return t.name===e.target.value}));this.setState({value:t}),this.props.onChange(t)}},{key:"render",value:function(){var e=this,t=[];return this.props.options.forEach((function(e){t.push(Object(f.jsx)("option",{children:e.name},e.name))})),Object(f.jsxs)("div",{className:"selectBox",children:[Object(f.jsx)("div",{className:"selectBoxLabel",children:this.props.label}),Object(f.jsx)("select",{onChange:function(t){return e.selectOption(t)},defaultValue:this.state.value.name,children:t})]})}}]),n}(r.a.Component)),v=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],m=[0,2,4,5,7,9,11],j=[0,2,3,5,7,8,10],N=function(e,t,n){var s=[];return n.forEach((function(e){s.push(v[(t+e)%v.length])})),{name:e,startingSemitone:t,semitones:n,tones:s}},S={TONES:v,COLORS:{red:{r:255,g:0,b:0},blue:{r:0,g:0,b:255},green:{r:0,g:255,b:0}},KEYS:{C_MAJOR:N("C-Major",0,m),C_MINOR:N("C-Minor",0,j),D_MAJOR:N("D-Major",2,m),D_MINOR:N("D-Minor",2,j),E_MAJOR:N("E-Major",4,m),E_MINOR:N("E-Minor",4,j),F_MAJOR:N("F-Major",5,m),F_MINOR:N("F-Minor",5,j),G_MAJOR:N("G-Major",7,m),G_MINOR:N("G-Minor",7,j),A_MAJOR:N("A-Major",9,m),A_MINOR:N("A-Minor",9,j),B_MAJOR:N("B-Major",11,m),B_MINOR:N("B-Minor",11,j)},POSITIONS:{FIRST:{rootStringNumber:4,positionName:"1st",name:"1st - Scale",fretOffsets:[[-3,-2,0],[-3,-2,0],[-3,-1],[-3,-1,0],[-3,-1,0],[-3,-2,0]],intervals:[["3","4","5"],["7","1","2"],["5","6"],["2","3","4"],["6","7","1"],["3","4","5"]]},FIRST_MAJOR_ARPPEGIO:{rootStringNumber:4,name:"1st - Major Triad Arpeggio",positionName:"1st",fretOffsets:[[-3,0],[-2],[-3],[-1],[0],[-3,0]],intervals:[["3","5"],["1"],["5"],["3"],["1"],["3","5"]]},FIRST_MAJOR_7_ARPPEGIO:{rootStringNumber:4,name:"1st - Major 7 Arpeggio",positionName:"1st",fretOffsets:[[-3,0],[-3,-2],[-3],[-1],[-1,0],[-3,0]],intervals:[["3","5"],["7","1"],["5"],["3"],["7","1"],["3","5"]]},FIRST_DOM_7_ARPPEGIO:{rootStringNumber:4,positionName:"1st",name:"1st - Dom 7 Arpeggio",fretOffsets:[[-3,0],[-2],[-3,0],[-1],[-2,0],[-3,0]],intervals:[["3","5"],["1"],["5","b7"],["3"],["b7","1"],["3","5"]]},FIRST_MINOR_ARPPEGIO:{rootStringNumber:4,positionName:"1st",name:"1st - Minor Triad Arpeggio",fretOffsets:[[0],[-2,1],[-3],[-2],[0],[0]],intervals:[["5"],["1","b3"],["5"],["b3"],["1"],["5"]]},FIRST_MINOR_7_ARPPEGIO:{rootStringNumber:4,positionName:"1st",name:"1st - Minor 7 Arpeggio",fretOffsets:[[0],[-2,1],[-3,0],[-2],[-2,0],[0]],intervals:[["5"],["1","b3"],["5","b7"],["b3"],["b7","1"],["5"]]},FIRST_MAJOR_PENTA:{rootStringNumber:4,positionName:"1st",name:"1st - Pentatonic (Major)",fretOffsets:[[-3,0],[-2,0],[-3,-1],[-3,-1],[-3,0],[-3,0]],intervals:[["3","5"],["1","2"],["5","6"],["2","3"],["6","1"],["3","5"]]},FIRST_MINOR_PENTA:{rootStringNumber:4,positionName:"1st",name:"1st - Pentatonic (Minor)",fretOffsets:[[-2,0],[-2,1],[-3,0],[-2,0],[-2,0],[-2,0]],intervals:[["4","5"],["1","b3"],["5","b7"],["b3","4"],["b7","1"],["4","5"]]},SECOND:{rootStringNumber:4,positionName:"2nd",name:"2nd - Scale",fretOffsets:[[0,2,4],[0,2,3],[-1,1,2],[-1,0,2],[-1,0,2],[0,2]],intervals:[["5","6","7"],["2","3","4"],["6","7","1"],["3","4","5"],["7","1","2"],["5","6"]]},SECOND_MAJOR_TRIAD_ARPEGGIO:{default:!1,rootStringNumber:4,positionName:"2nd",name:"2nd - Major Triad Arpeggio",fretOffsets:[[0],[2],[2],[-1,2],[0],[0]],intervals:[["5"],["3"],["1"],["3","5"],["1"],["5"]]},SECOND_MAJOR_7_ARPEGGIO:{default:!0,rootStringNumber:4,positionName:"2nd",name:"2nd - Major 7 Arpeggio",fretOffsets:[[0,4],[2],[1,2],[-1,2],[-1,0],[0]],intervals:[["5","7"],["3"],["7","1"],["3","5"],["7","1"],["5"]]},SECOND_DOM_7_ARPEGGIO:{rootStringNumber:4,positionName:"2nd",name:"2nd - Dom 7 Arpeggio",fretOffsets:[[0,3],[2],[0,2],[-1,2],[0],[0,3]],intervals:[["5","b7"],["3"],["b7","1"],["3","5"],["1"],["5","b7"]]},SECOND_MINOR_TRIAD_ARPEGGIO:{rootStringNumber:4,positionName:"2nd",name:"2nd - Minor Triad Arpeggio",fretOffsets:[[0],[1],[2],[2],[0,3],[0]],intervals:[["5"],["b3"],["1"],["5"],["1","b3"],["5"]]},SECOND_MINOR_7_ARPEGGIO:{rootStringNumber:4,positionName:"2nd",name:"2nd - Minor 7 Arpeggio",fretOffsets:[[0,3],[1],[0,2],[2],[0,3],[0,3]],intervals:[["5","b7"],["b3"],["b7","1"],["5"],["1","b3"],["5","b7"]]},SECOND_MINOR_7_B5_ARPEGGIO:{rootStringNumber:4,positionName:"2nd",name:"2nd - Minor 7 b5 Arpeggio",fretOffsets:[[-1,3],[1],[0,2],[1],[0,3],[-1,3]],intervals:[["b5","b7"],["b3"],["b7","1"],["b5"],["1","b3"],["b5","b7"]]},SECOND_MAJOR_PENTA:{rootStringNumber:4,positionName:"2nd",name:"2nd - Pentatonic (Major)",fretOffsets:[[0,2],[0,2],[-1,2],[-1,2],[0,2],[0,2]],intervals:[["2","6"],["3","3"],["6","1"],["3","5"],["1","2"],["5","6"]]},SECOND_MINOR_PENTA:{rootStringNumber:4,positionName:"2nd",name:"2nd - Pentatonic (Minor)",fretOffsets:[[0,3],[1,3],[0,2],[0,2],[0,3],[0,3]],intervals:[["5","b7"],["b3","4"],["b7","1"],["4","5"],["1","b3"],["5","b7"]]},THIRD:{rootStringNumber:5,positionName:"3rd",name:"3rd - Scale",fretOffsets:[[-3,-1,0],[-3,-2,0],[-4,-3,-1],[-3,-1],[-3,-1,0],[-3,-1,0]],intervals:[["6","7","1"],["3","4","5"],["7","1","2"],["5","6"],["2","3","4"],["6","7","1"]]},THIRD_MAJOR_7_ARPEGGIO:{rootStringNumber:5,positionName:"3rd",name:"3rd - Major 7 Arpeggio",fretOffsets:[[-1,0],[-3,0],[-4,-3],[-3],[-1],[-1,0]],intervals:[["7","1"],["3","5"],["7","1"],["5"],["3"],["7","1"]]},THIRD_DOM_7_ARPEGGIO:{rootStringNumber:5,positionName:"3rd",name:"3rd - Dom 7 Arpeggio",fretOffsets:[[-2,0],[-3,0],[-3],[-3,0],[-1],[-2,0]],intervals:[["b7","1"],["3","5"],["1"],["5","b7"],["3"],["b7","1"]]},THIRD_MINOR_7_ARPEGGIO:{rootStringNumber:5,positionName:"3rd",name:"3rd - Minor 7 Arpeggio",fretOffsets:[[-2,0],[0],[-3,0],[-3,0],[-2],[-2,0]],intervals:[["b7","1"],["5"],["1","b3"],["5","b7"],["b3"],["b7","1"]]},THRID_MAJOR_PENTA:{rootStringNumber:5,positionName:"3rd",name:"3rd - Pentatonic (Major)",fretOffsets:[[-3,0],[-3,0],[-3,-1],[-3,-1],[-3,-1],[-3,0]],intervals:[["6","1"],["3","5"],["1","2"],["5","6"],["2","3"],["4","1"]]},THIRD_MINOR_PENTA:{rootStringNumber:5,positionName:"3rd",name:"3rd - Pentatonic (Minor)",fretOffsets:[[-2,0],[-2,0],[-3,0],[-3,0],[-2,0],[-2,0]],intervals:[["b7","1"],["4","5"],["1","3"],["5","b7"],["b3","4"],["b7","1"]]},FORTH:{rootStringNumber:5,positionName:"4th",name:"4th - Scale",fretOffsets:[[-1,0,2],[0,2],[-1,1,2],[-1,1,2],[-1,0,2],[-1,0,2]],intervals:[["7","1","2"],["5","6"],["2","3","4"],["6","7","1"],["3","4","5"],["7","1","2"]]},FORTH_MAJOR_7_ARPEGGIO:{default:!0,rootStringNumber:5,positionName:"4th",name:"4th - Major 7 Arpeggio",fretOffsets:[[-1,0],[0],[1],[1,2],[-1,2],[-1,0]],intervals:[["7","1"],["5"],["3"],["7","1"],["3","5"],["7","1"]]},FORTH_DOM_7_ARPEGGIO:{rootStringNumber:5,positionName:"4th",name:"4th - Dom 7 Arpeggio",fretOffsets:[[0],[0,2],[1],[0,2],[-1,2],[0]],intervals:[["1"],["5","b7"],["3"],["b7","1"],["3","5"],["1"]]},FORTH_MINOR_7_ARPEGGIO:{rootStringNumber:5,positionName:"4th",name:"4th - Minor 7 Arpeggio",fretOffsets:[[0,3],[0,3],[0],[0,2],[2],[0,3]],intervals:[["1","b3"],["5","7"],["b3"],["b7","1"],["5"],["1","b3"]]},FORTH_MINOR_PENTA:{rootStringNumber:5,positionName:"4th",name:"4th - Pentatonic (Minor)",fretOffsets:[[0,3],[0,3],[0,2],[0,2],[0,2],[0,3]],intervals:[["1","b3"],["5","b7"],["b3","4"],["b7","1"],["4","5"],["1","b3"]]},FIFTH_MAJOR_7_SCALE:{rootStringNumber:3,positionName:"5th",name:"5th - Major 7 Scale",fretOffsets:[[0,2,3],[0,2,3],[-1,0,2],[-1,0,2],[0,2],[0,2,3]],intervals:[["2","3","4"],["6","7","1"],["3","4","5"],["7","1","2"],["5","6"],["2","3","4"]]},FIFTH_MAJOR_7_ARPEGGIO:{default:!0,rootStringNumber:3,positionName:"5th",name:"5th - Major 7 Arpeggio",fretOffsets:[[2],[2,3],[-1,2],[-1,0],[0],[2]],intervals:[["3"],["7","1"],["3","5"],["7","1"],["5"],["3"]]},FIFTH_DOM_7_ARPEGGIO:{rootStringNumber:3,positionName:"5th",name:"5th - Dom 7 Arpeggio",fretOffsets:[[2],[1,3],[-1,2],[0],[0,3],[2]],intervals:[["3"],["b7","1"],["3","5"],["1"],["5","b7"],["3"]]},FIFTH_MINOR_7_ARPEGGIO:{rootStringNumber:3,positionName:"5th",name:"5th - Minor 7 Arpeggio",fretOffsets:[[1],[1,3],[2],[0,3],[0,3],[2]],intervals:[["b3"],["b7","1"],["5"],["1","b3"],["5","b7"],["b3"]]},FIFTH_MAJOR_PENTA:{rootStringNumber:3,positionName:"5th",name:"5th - Pentatonic (Major)",fretOffsets:[[0,2],[0,3],[-1,2],[0,2],[0,2],[0,2]],intervals:[["2","3"],["6","1"],["3","5"],["1","2"],["5","6"],["2","3"]]},FIFTH_MINOR_PENTA:{rootStringNumber:3,positionName:"5th",name:"5th - Pentatonic (Minor)",fretOffsets:[[1,3],[1,3],[0,2],[0,3],[0,3],[1,3]],intervals:[["b3","4"],["b7","1"],["4","5"],["1","b3"],["5","b7"],["b3","4"]]}},resolveNotesForScale:function(e,t,n){for(var s=new Map,r=n.fretOffsets,o=n.intervals,i=0;i<r.length;i+=1)for(var a=r[i],c=0;c<a.length;c+=1){var l=e.getNoteAt(i,t+a[c]);l&&s.set(l,o?o[i][c]:"?")}return s},getPositionsForString:function(e){return Object.values(this.POSITIONS).filter((function(t){return t.rootStringNumber===e}))}},A=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"delete",value:function(){this.props.onDelete&&this.props.onDelete(this.props.value)}},{key:"select",value:function(e){this.props.onChange&&this.props.onChange(this.props.value,e)}},{key:"onCheck",value:function(e){this.props.onCheck&&this.props.onCheck(this.props.value)}},{key:"addToProgression",value:function(){this.props.addToProgression&&this.props.addToProgression(this.props.value)}},{key:"render",value:function(){var e=this,t="https://onlineguitarbooks.com/"+this.props.value.name+"-chord/",n={backgroundColor:this.props.value.color},s=S.getPositionsForString(this.props.value.toneState.stringNumber);return Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{style:n}),Object(f.jsxs)("div",{children:[Object(f.jsx)("input",{type:"checkbox",checked:this.props.value.enabled,onChange:function(t){return e.onCheck(t)}}),Object(f.jsxs)("a",{href:t,target:"_blank",rel:"noreferrer",children:[this.props.value.name," (",this.props.value.toneState.stringNumber+1,", ",this.props.value.toneState.fret,")"]})]}),Object(f.jsx)("div",{children:Object(f.jsx)(g,{value:this.props.value.position,options:s,onChange:function(t){return e.select(t)}})}),Object(f.jsxs)("div",{children:[Object(f.jsx)("button",{onClick:function(t){return e.delete()},children:"delete"}),Object(f.jsx)("button",{onClick:function(t){return e.addToProgression()},children:"add to chord progression"})]})]})}}]),n}(r.a.Component),M=A,_=function(){function e(t,n,s,r){Object(a.a)(this,e),this.uid=t,this.name=n,this.stringNumber=s,this.fret=r,this.usedIn=new Map,this.position=0===r?"Open "+n:n+" "+(s+1)+" @ "+r}return Object(c.a)(e,[{key:"select",value:function(e,t){this.usedIn.set(e.uid,t)}},{key:"deselect",value:function(e){this.usedIn.delete(e.uid)}},{key:"isUsedInScale",value:function(e){return this.usedIn.has(e.uid)}},{key:"getIntervalLabel",value:function(e){return this.usedIn.get(e.uid)}}]),e}(),R=function(){function e(t,n){Object(a.a)(this,e),this.name=S.TONES[t],this.uid="string-"+this.name+"-"+n,this.intervalOffset=t,this.tones=[];for(var s=0;s<17;s++){var r=t+s,o=S.TONES[r%S.TONES.length];this.tones.push(new _(this.uid+"."+s,o,n,s))}}return Object(c.a)(e,[{key:"getNoteAt",value:function(e){return e>=0&&e<this.tones.length?this.tones[e]:void 0}}]),e}(),k=function(){function e(){Object(a.a)(this,e),this.strings=[],this.strings.push(new R(4,0)),this.strings.push(new R(11,1)),this.strings.push(new R(7,2)),this.strings.push(new R(2,3)),this.strings.push(new R(9,4)),this.strings.push(new R(4,5))}return Object(c.a)(e,[{key:"getNoteAt",value:function(e,t){return this.strings[e].getNoteAt(t)}}]),e}(),I=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(a.a)(this,n),(s=t.call(this,e)).state={bpm:60,bpb:4,playing:!1,interval:null,count:0,mediaLoading:!1,clickFx:void 0,audioCtx:void 0},s}return Object(c.a)(n,[{key:"beep",value:function(){try{var e=this.state.audioCtx,t=this.state.clickFx,n=this.state.mediaLoading;if(void 0===e&&(e=new(window.AudioContext||window.webkitAudioContext)),t){console.log(""+(this.state.count+1)),console.log(t);var s=e.createBufferSource();s.buffer=t,s.connect(e.destination),s.start(),this.setState({count:this.state.count+1})}else{if(n)return void console.log("media loading");n=!0,console.log("Loading Audio Files");var r=this,o=new XMLHttpRequest;o.open("GET","/fretcharts/mp3/snare.mp3",!0),o.responseType="arraybuffer",o.onload=function(){try{if(200===o.status){var t=o.response;console.log("Media Loaded: ",o),e.decodeAudioData(t,(function(e){console.log("Buffer Loaded",e,r),r.setState({clickFx:e})}),(function(e){console.log("Error",e)}))}else console.log("Media Load Failed "+this.response.status)}catch(n){console.log("Error",n)}},o.send()}this.setState({mediaLoading:n,audioCtx:e})}catch(i){console.log("Error",i)}}},{key:"doneLoading",value:function(){console.log("Done Loading")}},{key:"updateInterval",value:function(e){var t=this,n=this.state.interval;if(n&&(clearInterval(n),n=null),e){var s=6e4/this.state.bpm;console.log("Running at "+s),n=setInterval((function(){return t.beep()}),s)}return n}},{key:"startStop",value:function(){var e=!this.state.playing,t=this.updateInterval(e);this.setState({count:0,playing:e,interval:t})}},{key:"setBpm",value:function(e){var t=e.target.value;this.setState({bpm:t}),console.log("BPM = "+t)}},{key:"setBpb",value:function(e){this.setState({bpb:e.target.value})}},{key:"render",value:function(){var e=this;return Object(f.jsxs)("div",{className:"metronome",children:[Object(f.jsx)("input",{type:"number",min:2,max:8,size:6,maxLength:6,defaultValue:this.state.bpb,onChange:function(t){return e.setBpb(t)}}),Object(f.jsx)("div",{className:"label",children:"Beats per bar"}),Object(f.jsx)("input",{type:"number",min:1,max:200,size:6,maxLength:6,defaultValue:this.state.bpm,onChange:function(t){return e.setBpm(t)}}),Object(f.jsx)("div",{className:"label",children:"Beats per minute"}),Object(f.jsx)("button",{onClick:function(t){return e.startStop()},children:this.state.playing?"Stop":"Play"})]})}}]),n}(r.a.Component),x=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"getBarCount",value:function(){return 0}},{key:"getBar",value:function(){return 0}},{key:"renderProgression",value:function(){for(var e=[],t=this.props.scales,n=this.props.progression,s=0;s<n.length;s+=1){var r=t[n[s]];e[e.length]=r}console.log("Progression",e);var o=this.getBar();return e.map((function(e,t){var n={backgroundColor:e.color,opacity:t===o?1:.25};return Object(f.jsx)("div",{className:"pill",style:n,children:e.name},"c"+t)}))}},{key:"render",value:function(){return Object(f.jsx)("div",{className:"progressions",children:this.renderProgression()},"progression")}}]),n}(r.a.Component),y=x,P=["#4E79A5","#F18F3B","#E0585B","#77B7B2","#5AA155","#EDC958","#AF7AA0","#FE9EA8","#9C7561","#BAB0AC"],C=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var s;Object(a.a)(this,n),s=t.call(this,e);var r=new k;return s.state={key:S.KEYS.C_MAJOR,scales:[],guitarState:r,progression:[]},s}return Object(c.a)(n,[{key:"updateKey",value:function(e){this.setState({key:e})}},{key:"deleteScale",value:function(e){var t=this.state.scales;e.notes.forEach((function(t){return t.deselect(e)})),this.setState({scales:t.filter((function(t){return t.uid!==e.uid}))})}},{key:"updatePosition",value:function(e,t){console.log("Swap Position",t,e);var n=this.state.scales;e.notes.forEach((function(t){return t.deselect(e)}));var s=S.resolveNotesForScale(this.state.guitarState,e.toneState.fret,t);e.notes=[],s.forEach((function(t,n){n.select(e,t),e.notes.push(n)})),this.setState({scales:n})}},{key:"getRowNumberForScale",value:function(e){return this.state.scales.indexOf(e)}},{key:"addToProgression",value:function(e){var t=this.getRowNumberForScale(e);if(t>=0){var n=this.state.progression;n[n.length]=t,console.log(n),this.setState({progression:n})}}},{key:"resolveNotesForScale",value:function(e){var t=e.toneState.stringNumber,n=S.getPositionsForString(t);if(void 0===n||n.length<1)return[];var s=n.find((function(e){return!0===e.default}));return e.position=s||n[0],S.resolveNotesForScale(this.state.guitarState,e.toneState.fret,e.position)}},{key:"onClick",value:function(e){var t=this.state.scales,n=P[t.length%P.length],s={uid:"scale."+e.stringNumber+"."+e.fret+"."+t.length,name:e.name,fret:e.fret,toneState:e,scale:S.KEYS.C_MAJOR,color:n,enabled:!0},r=this.resolveNotesForScale(s);r.size>0&&(s.notes=[],r.forEach((function(e,t){console.log(t),s.notes.push(t),t.select(s,e)})),t.push(s),this.setState({scales:t}),this.addToProgression(s))}},{key:"onCheck",value:function(e){e.enabled=!e.enabled,this.setState({scales:this.state.scales})}},{key:"render",value:function(){for(var e=this,t=this.state.guitarState.strings[0].tones.length,n=Object.values(S.KEYS),s=[],r=0;r<t;r++){var o="";3===r||5===r||7===r||9===r||15===r||17===r||19===r||21===r?o+="\u25cf":12===r&&(o+="\u25cf\u25cf"),s.push(Object(f.jsx)("div",{className:"fret-marker",children:o},"fretMarker"+r))}return Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:"keySelector",children:Object(f.jsx)(g,{label:"Key",onChange:function(t){return e.updateKey(t)},options:n,value:this.state.key},"keySelector")}),Object(f.jsxs)("div",{className:"fret-board",children:[this.state.guitarState.strings.map((function(t){return Object(f.jsx)(O,{musicKey:e.state.key,value:t,onClick:function(t,n,s){return e.onClick(t,n,s)},scales:e.state.scales},t.uid)})),Object(f.jsx)("div",{className:"fret-markers",children:s})]}),Object(f.jsx)(y,{scales:this.state.scales,progression:this.state.progression}),Object(f.jsx)(I,{scales:this.state.scales}),Object(f.jsxs)("div",{className:"scaleTable",children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{children:"Color"}),Object(f.jsx)("div",{children:"Root"}),Object(f.jsx)("div",{children:"Position"}),Object(f.jsx)("div",{children:"..."})]}),this.state.scales.map((function(t){return Object(f.jsx)(M,{onDelete:function(t){return e.deleteScale(t)},onChange:function(t,n){return e.updatePosition(t,n)},onCheck:function(t){return e.onCheck(t)},addToProgression:function(t){return e.addToProgression(t)},value:t},t.uid)}))]})]})}}]),n}(r.a.Component);var E=function(){return Object(f.jsx)("div",{className:"App",children:Object(f.jsx)(C,{},"fretboard")})};i.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(E,{})}),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.058ef2d4.chunk.js.map