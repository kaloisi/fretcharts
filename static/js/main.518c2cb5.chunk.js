(this.webpackJsonpfretcharts=this.webpackJsonpfretcharts||[]).push([[0],{14:function(t,e,n){},15:function(t,e,n){},16:function(t,e,n){},18:function(t,e,n){"use strict";n.r(e);var r=n(3),s=n.n(r),i=n(9),o=n.n(i),a=(n(14),n(15),n(1)),c=n(2),l=n(5),u=n(4),h=(n(16),n(7)),f=n(0),b=50,p=50,d=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(t){var r;return Object(a.a)(this,n),(r=e.call(this,t)).state={toneState:t.value},r.select=r.select.bind(Object(h.a)(r)),r}return Object(c.a)(n,[{key:"select",value:function(t){t.stopPropagation(),t.preventDefault(),this.props.onClick(this.props.value)}},{key:"cacluatePointOnCircle",value:function(t,e){var n=t*(Math.PI/180);return{x:Math.cos(n)*e,y:Math.sin(n)*e}}},{key:"createLinesAlongCurve",value:function(t,e,n){for(var r="M "+b+" "+(this.props.scales.length>1?p:p-n)+" \n",s=t;s<e+5;s+=5){var i=Math.min(s,e),o=this.cacluatePointOnCircle(i,n);r+=" L "+(b+o.x)+" "+(p+o.y)+" \n"}return r+" z"}},{key:"createPath",value:function(){}},{key:"render",value:function(){var t=this,e=this.props.scales.length,n=this.props.isInKey?"black":"#ccc",r=e>0?360/e:0,s=this.state.toneState.usedIn.size>0,i=0;return Object(f.jsx)("div",{id:this.props.id,onClick:this.select,className:"note",children:Object(f.jsxs)("svg",{children:[this.props.scales.map((function(e){i+=1;var n=t.state.toneState.isUsedInScale(e);if(s&&n){var o=t.state.toneState.getIntervalLabel(e),a=(i-1)*r-90,c=i*r-90,l=t.cacluatePointOnCircle((c+a)/2,30);return Object(f.jsxs)("g",{children:[Object(f.jsx)("path",{fill:e.color,opacity:e.enabled?1:.25,stroke:"black",d:t.createLinesAlongCurve(a,c,40)}),Object(f.jsx)("text",{x:b+l.x,y:p+l.y,fontSize:"16",stroke:e.enabled?"white":"black",dominantBaseline:"central",textAnchor:"middle",children:o})]},t.props.id+"."+i)}return"<path />"})),Object(f.jsx)("circle",{cx:b,cy:p,r:40/3,stroke:"black",strokeWidth:"1",fill:"#ccc"},this.props.id+"circle"),Object(f.jsx)("text",{x:b,y:p,fill:n,fontSize:"20",dominantBaseline:"central",textAnchor:"middle",children:this.props.value.name},this.props.id+"text")]})},this.props.id)}}]),n}(s.a.Component),g=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(t){var r;return Object(a.a)(this,n),(r=e.call(this,t)).state={stringState:t.value},r}return Object(c.a)(n,[{key:"render",value:function(){for(var t=this,e=[],n=function(){var n=t.state.stringState.tones[r],s=t.props.musicKey.tones.find((function(t){return t===n.name}));e.push(Object(f.jsx)(d,{onClick:t.props.onClick,isInKey:s,scales:t.props.scales,value:n},n.uid))},r=0;r<this.state.stringState.tones.length;r++)n();return Object(f.jsx)("div",{className:"string",children:e})}}]),n}(s.a.Component),v=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(t){var r;return Object(a.a)(this,n),(r=e.call(this,t)).state={value:t.value},r}return Object(c.a)(n,[{key:"selectOption",value:function(t){var e=this.props.options.find((function(e){return e.name===t.target.value}));this.setState({value:e}),this.props.onChange(e)}},{key:"render",value:function(){var t=this,e=[];return this.props.options.forEach((function(t){e.push(Object(f.jsx)("option",{children:t.name},t.name))})),Object(f.jsxs)("div",{className:"selectBox",children:[Object(f.jsx)("select",{onChange:function(e){return t.selectOption(e)},defaultValue:this.state.value.name,children:e}),Object(f.jsx)("div",{className:"selectBoxLabel",children:this.props.label})]})}}]),n}(s.a.Component),O=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],m=[0,2,4,5,7,9,11],j=[0,2,3,5,7,8,10],N=function(t,e,n){var r=[];return n.forEach((function(t){r.push(O[(e+t)%O.length])})),{name:t,startingSemitone:e,semitones:n,tones:r}},S={TONES:O,COLORS:{red:{r:255,g:0,b:0},blue:{r:0,g:0,b:255},green:{r:0,g:255,b:0}},KEYS:{C_MAJOR:N("C-Major",0,m),C_MINOR:N("C-Minor",0,j),D_MAJOR:N("D-Major",2,m),D_MINOR:N("D-Minor",2,j),E_MAJOR:N("E-Major",4,m),E_MINOR:N("E-Minor",4,j),F_MAJOR:N("F-Major",5,m),F_MINOR:N("F-Minor",5,j),G_MAJOR:N("G-Major",7,m),G_MINOR:N("G-Minor",7,j),A_MAJOR:N("A-Major",9,m),A_MINOR:N("A-Minor",9,j),B_MAJOR:N("B-Major",11,m),B_MINOR:N("B-Minor",11,j)},POSITIONS:{FIRST:{rootStringNumber:4,positionName:"1st",name:"1st - Scale",fretOffsets:[[-3,-2,0],[-3,-2,0],[-3,-1],[-3,-1,0],[-3,-1,0],[-3,-2,0]],intervals:[["3","4","5"],["7","1","2"],["5","6"],["2","3","4"],["6","7","1"],["3","4","5"]]},FIRST_MAJOR_ARPPEGIO:{rootStringNumber:4,name:"1st - Major Triad Arpeggio",positionName:"1st",fretOffsets:[[-3,0],[-2],[-3],[-1],[0],[-3,0]],intervals:[["3","5"],["1"],["5"],["3"],["1"],["3","5"]]},FIRST_MAJOR_7_ARPPEGIO:{rootStringNumber:4,name:"1st - Major 7 Arpeggio",positionName:"1st",fretOffsets:[[-3,0],[-3,-2],[-3],[-1],[-1,0],[-3,0]],intervals:[["3","5"],["7","1"],["5"],["3"],["7","1"],["3","5"]]},FIRST_DOM_7_ARPPEGIO:{rootStringNumber:4,positionName:"1st",name:"1st - Dom 7 Arpeggio",fretOffsets:[[-3,0],[-2],[-3,0],[-1],[-2,0],[-3,0]],intervals:[["3","5"],["1"],["5","b7"],["3"],["b7","1"],["3","5"]]},FIRST_MINOR_ARPPEGIO:{rootStringNumber:4,positionName:"1st",name:"1st - Minor Triad Arpeggio",fretOffsets:[[0],[-2,1],[-3],[-2],[0],[0]],intervals:[["5"],["1","b3"],["5"],["b3"],["1"],["5"]]},FIRST_MINOR_7_ARPPEGIO:{rootStringNumber:4,positionName:"1st",name:"1st - Minor 7 Arpeggio",fretOffsets:[[0],[-2,1],[-3,0],[-2],[-2,0],[0]],intervals:[["5"],["1","b3"],["5","b7"],["b3"],["b7","1"],["5"]]},FIRST_MAJOR_PENTA:{rootStringNumber:4,positionName:"1st",name:"1st - Pentatonic (Major)",fretOffsets:[[-3,0],[-2,0],[-3,-1],[-3,-1],[-3,0],[-3,0]],intervals:[["3","5"],["1","2"],["5","6"],["2","3"],["6","1"],["3","5"]]},FIRST_MINOR_PENTA:{rootStringNumber:4,positionName:"1st",name:"1st - Pentatonic (Minor)",fretOffsets:[[-2,0],[-2,1],[-3,0],[-2,0],[-2,0],[-2,0]],intervals:[["4","5"],["1","b3"],["5","b7"],["b3","4"],["b7","1"],["4","5"]]},SECOND:{rootStringNumber:4,positionName:"2nd",name:"2nd - Scale",fretOffsets:[[0,2,4],[0,2,3],[-1,1,2],[-1,0,2],[-1,0,2],[0,2]],intervals:[["5","6","7"],["2","3","4"],["6","7","1"],["3","4","5"],["7","1","2"],["5","6"]]},SECOND_MAJOR_TRIAD_ARPEGGIO:{default:!1,rootStringNumber:4,positionName:"2nd",name:"2nd - Major Triad Arpeggio",fretOffsets:[[0],[2],[2],[-1,2],[0],[0]],intervals:[["5"],["3"],["1"],["3","5"],["1"],["5"]]},SECOND_MAJOR_7_ARPEGGIO:{default:!0,rootStringNumber:4,positionName:"2nd",name:"2nd - Major 7 Arpeggio",fretOffsets:[[0,4],[2],[1,2],[-1,2],[-1,0],[0]],intervals:[["5","7"],["3"],["7","1"],["3","5"],["7","1"],["5"]]},SECOND_DOM_7_ARPEGGIO:{rootStringNumber:4,positionName:"2nd",name:"2nd - Dom 7 Arpeggio",fretOffsets:[[0,3],[2],[0,2],[-1,2],[0],[0,3]],intervals:[["5","b7"],["3"],["b7","1"],["3","5"],["1"],["5","b7"]]},SECOND_MINOR_TRIAD_ARPEGGIO:{rootStringNumber:4,positionName:"2nd",name:"2nd - Minor Triad Arpeggio",fretOffsets:[[0],[1],[2],[2],[0,3],[0]],intervals:[["5"],["b3"],["1"],["5"],["1","b3"],["5"]]},SECOND_MINOR_7_ARPEGGIO:{rootStringNumber:4,positionName:"2nd",name:"2nd - Minor 7 Arpeggio",fretOffsets:[[0,3],[1],[0,2],[2],[0,3],[0,3]],intervals:[["5","b7"],["b3"],["b7","1"],["5"],["1","b3"],["5","b7"]]},SECOND_MINOR_7_B5_ARPEGGIO:{rootStringNumber:4,positionName:"2nd",name:"2nd - Minor 7 b5 Arpeggio",fretOffsets:[[-1,3],[1],[0,2],[1],[0,3],[-1,3]],intervals:[["b5","b7"],["b3"],["b7","1"],["b5"],["1","b3"],["b5","b7"]]},SECOND_MAJOR_PENTA:{rootStringNumber:4,positionName:"2nd",name:"2nd - Pentatonic (Major)",fretOffsets:[[0,2],[0,2],[-1,2],[-1,2],[0,2],[0,2]],intervals:[["2","6"],["3","3"],["6","1"],["3","5"],["1","2"],["5","6"]]},SECOND_MINOR_PENTA:{rootStringNumber:4,positionName:"2nd",name:"2nd - Pentatonic (Minor)",fretOffsets:[[0,3],[1,3],[0,2],[0,2],[0,3],[0,3]],intervals:[["5","b7"],["b3","4"],["b7","1"],["4","5"],["1","b3"],["5","b7"]]},THIRD:{rootStringNumber:5,positionName:"3rd",name:"3rd - Scale",fretOffsets:[[-3,-1,0],[-3,-2,0],[-4,-3,-1],[-3,-1],[-3,-1,0],[-3,-1,0]],intervals:[["6","7","1"],["3","4","5"],["7","1","2"],["5","6"],["2","3","4"],["6","7","1"]]},THIRD_MAJOR_7_ARPEGGIO:{rootStringNumber:5,positionName:"3rd",name:"3rd - Major 7 Arpeggio",fretOffsets:[[-1,0],[-3,0],[-4,-3],[-3],[-1],[-1,0]],intervals:[["7","1"],["3","5"],["7","1"],["5"],["3"],["7","1"]]},THIRD_DOM_7_ARPEGGIO:{rootStringNumber:5,positionName:"3rd",name:"3rd - Dom 7 Arpeggio",fretOffsets:[[-2,0],[-3,0],[-3],[-3,0],[-1],[-2,0]],intervals:[["b7","1"],["3","5"],["1"],["5","b7"],["3"],["b7","1"]]},THIRD_MINOR_7_ARPEGGIO:{rootStringNumber:5,positionName:"3rd",name:"3rd - Minor 7 Arpeggio",fretOffsets:[[-2,0],[0],[-3,0],[-3,0],[-2],[-2,0]],intervals:[["b7","1"],["5"],["1","b3"],["5","b7"],["b3"],["b7","1"]]},THRID_MAJOR_PENTA:{rootStringNumber:5,positionName:"3rd",name:"3rd - Pentatonic (Major)",fretOffsets:[[-3,0],[-3,0],[-3,-1],[-3,-1],[-3,-1],[-3,0]],intervals:[["6","1"],["3","5"],["1","2"],["5","6"],["2","3"],["4","1"]]},THIRD_MINOR_PENTA:{rootStringNumber:5,positionName:"3rd",name:"3rd - Pentatonic (Minor)",fretOffsets:[[-2,0],[-2,0],[-3,0],[-3,0],[-2,0],[-2,0]],intervals:[["b7","1"],["4","5"],["1","3"],["5","b7"],["b3","4"],["b7","1"]]},FORTH:{rootStringNumber:5,positionName:"4th",name:"4th - Scale",fretOffsets:[[-1,0,2],[0,2],[-1,1,2],[-1,1,2],[-1,0,2],[-1,0,2]],intervals:[["7","1","2"],["5","6"],["2","3","4"],["6","7","1"],["3","4","5"],["7","1","2"]]},FORTH_MAJOR_7_ARPEGGIO:{default:!0,rootStringNumber:5,positionName:"4th",name:"4th - Major 7 Arpeggio",fretOffsets:[[-1,0],[0],[1],[1,2],[-1,2],[-1,0]],intervals:[["7","1"],["5"],["3"],["7","1"],["3","5"],["7","1"]]},FORTH_DOM_7_ARPEGGIO:{rootStringNumber:5,positionName:"4th",name:"4th - Dom 7 Arpeggio",fretOffsets:[[0],[0,3],[1],[0,2],[-1,2],[0]],intervals:[["1"],["5","b7"],["3"],["b7","1"],["3","5"],["1"]]},FORTH_MINOR_7_ARPEGGIO:{rootStringNumber:5,positionName:"4th",name:"4th - Minor 7 Arpeggio",fretOffsets:[[0,3],[0,3],[0],[0,2],[2],[0,3]],intervals:[["1","b3"],["5","b7"],["b3"],["b7","1"],["5"],["1","b3"]]},FORTH_MINOR_PENTA:{rootStringNumber:5,positionName:"4th",name:"4th - Pentatonic (Minor)",fretOffsets:[[0,3],[0,3],[0,2],[0,2],[0,2],[0,3]],intervals:[["1","b3"],["5","b7"],["b3","4"],["b7","1"],["4","5"],["1","b3"]]},FIFTH_MAJOR_7_SCALE:{rootStringNumber:3,positionName:"5th",name:"5th - Major 7 Scale",fretOffsets:[[0,2,3],[0,2,3],[-1,0,2],[-1,0,2],[0,2],[0,2,3]],intervals:[["2","3","4"],["6","7","1"],["3","4","5"],["7","1","2"],["5","6"],["2","3","4"]]},FIFTH_MAJOR_7_ARPEGGIO:{default:!0,rootStringNumber:3,positionName:"5th",name:"5th - Major 7 Arpeggio",fretOffsets:[[2],[2,3],[-1,2],[-1,0],[0],[2]],intervals:[["3"],["7","1"],["3","5"],["7","1"],["5"],["3"]]},FIFTH_DOM_7_ARPEGGIO:{rootStringNumber:3,positionName:"5th",name:"5th - Dom 7 Arpeggio",fretOffsets:[[2],[1,3],[-1,2],[0],[0,3],[2]],intervals:[["3"],["b7","1"],["3","5"],["1"],["5","b7"],["3"]]},FIFTH_MINOR_7_ARPEGGIO:{rootStringNumber:3,positionName:"5th",name:"5th - Minor 7 Arpeggio",fretOffsets:[[1],[1,3],[2],[0,3],[0,3],[2]],intervals:[["b3"],["b7","1"],["5"],["1","b3"],["5","b7"],["b3"]]},FIFTH_MAJOR_PENTA:{rootStringNumber:3,positionName:"5th",name:"5th - Pentatonic (Major)",fretOffsets:[[0,2],[0,3],[-1,2],[0,2],[0,2],[0,2]],intervals:[["2","3"],["6","1"],["3","5"],["1","2"],["5","6"],["2","3"]]},FIFTH_MINOR_PENTA:{rootStringNumber:3,positionName:"5th",name:"5th - Pentatonic (Minor)",fretOffsets:[[1,3],[1,3],[0,2],[0,3],[0,3],[1,3]],intervals:[["b3","4"],["b7","1"],["4","5"],["1","b3"],["5","b7"],["b3","4"]]}},resolveNotesForScale:function(t,e,n){for(var r=new Map,s=n.fretOffsets,i=n.intervals,o=0;o<s.length;o+=1)for(var a=s[o],c=0;c<a.length;c+=1){var l=t.getNoteAt(o,e+a[c]);l&&r.set(l,i?i[o][c]:"?")}return r},getPositionsForString:function(t){return Object.values(this.POSITIONS).filter((function(e){return e.rootStringNumber===t}))},getDefaultPositionForString:function(t){var e=this.getPositionsForString(t);return void 0===e||e.length<1?[]:e.find((function(t){return!0===t.default}))}},A=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"delete",value:function(){this.props.onDelete&&this.props.onDelete(this.props.value)}},{key:"select",value:function(t){this.props.onChange&&this.props.onChange(this.props.value,t)}},{key:"onCheck",value:function(t){this.props.onCheck&&this.props.onCheck(this.props.value)}},{key:"addToProgression",value:function(){this.props.addToProgression&&this.props.addToProgression(this.props.value)}},{key:"render",value:function(){var t=this,e="https://onlineguitarbooks.com/"+this.props.value.name+"-chord/",n={backgroundColor:this.props.value.color},r=S.getPositionsForString(this.props.value.toneState.stringNumber);return Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{style:n}),Object(f.jsxs)("div",{children:[Object(f.jsx)("input",{type:"checkbox",checked:this.props.value.enabled,onChange:function(e){return t.onCheck(e)}}),Object(f.jsxs)("a",{href:e,target:"_blank",rel:"noreferrer",children:[this.props.value.name," (",this.props.value.toneState.stringNumber+1,", ",this.props.value.toneState.fret,")"]})]}),Object(f.jsx)("div",{children:Object(f.jsx)(v,{value:this.props.value.position,options:r,onChange:function(e){return t.select(e)}})}),Object(f.jsxs)("div",{children:[Object(f.jsx)("button",{onClick:function(e){return t.delete()},children:"delete"}),Object(f.jsx)("button",{onClick:function(e){return t.addToProgression()},children:"add to chord progression"})]})]})}}]),n}(s.a.Component),M=A,_=["#4E79A5","#F18F3B","#E0585B","#77B7B2","#5AA155","#EDC958","#AF7AA0","#FE9EA8","#9C7561","#BAB0AC"],k=function(){function t(e,n,r,s){Object(a.a)(this,t),this.uid=e,this.name=n,this.stringNumber=r,this.fret=s,this.usedIn=new Map,this.position=0===s?"Open "+n:n+" "+(r+1)+" @ "+s}return Object(c.a)(t,[{key:"add",value:function(t,e){this.usedIn.set(t.uid,e)}},{key:"remove",value:function(t){this.usedIn.delete(t.uid)}},{key:"isUsedInScale",value:function(t){return this.usedIn.has(t.uid)}},{key:"getIntervalLabel",value:function(t){return this.usedIn.get(t.uid)}}]),t}(),I=function(){function t(e,n){Object(a.a)(this,t),this.name=S.TONES[e],this.uid="string-"+this.name+"-"+n,this.intervalOffset=e,this.tones=[];for(var r=0;r<17;r++){var s=e+r,i=S.TONES[s%S.TONES.length];this.tones.push(new k(this.uid+"."+r,i,n,r))}}return Object(c.a)(t,[{key:"getNoteAt",value:function(t){return t>=0&&t<this.tones.length?this.tones[t]:void 0}}]),t}(),P=function(){function t(e,n,r,s,i,o){Object(a.a)(this,t),this.guitarState=e,this.uid="scale."+r+"."+s+"."+i,this.name=n.name,this.fret=n.fret,this.fretNum=s,this.toneState=n,this.scale=S.KEYS.C_MAJOR,this.color=o,this.enabled=!0,this.setPosition(S.getDefaultPositionForString(r))}return Object(c.a)(t,[{key:"setPosition",value:function(t){var e=this;if(this.toneStates&&this.toneStates.length>0)for(var n=0;n<this.toneStates.length;n+=1){this.toneStates[n].remove(this)}if(this.position=t,t){var r=S.resolveNotesForScale(this.guitarState,this.fretNum,this.position);this.toneStates=[],r.forEach((function(t,n){n.add(e,t),e.toneStates.push(n)}))}}}]),t}(),R=function(){function t(){Object(a.a)(this,t),this.strings=[],this.strings.push(new I(4,0)),this.strings.push(new I(11,1)),this.strings.push(new I(7,2)),this.strings.push(new I(2,3)),this.strings.push(new I(9,4)),this.strings.push(new I(4,5)),this.scalePatterns=[]}return Object(c.a)(t,[{key:"deleteScalePattern",value:function(t){t.setPosition(void 0),this.scalePatterns=this.scalePatterns.filter((function(e){return e!==t}))}},{key:"createScalePatternAt",value:function(t,e){var n=this.getNoteAt(t,e);if(n){var r=this.scalePatterns.length,s=new P(this,n,t,e,r,_[r%_.length]);return this.scalePatterns.push(s),s}}},{key:"getNoteAt",value:function(t,e){var n=this.strings[t];return n?n.getNoteAt(e):void 0}}]),t}(),y=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(t){var r;return Object(a.a)(this,n),(r=e.call(this,t)).state={bpm:r.props.bpm,bpb:r.props.bpb,playing:!1,interval:null,count:0,mediaLoading:!1,clickFx:void 0,audioCtx:void 0},r}return Object(c.a)(n,[{key:"beep",value:function(){try{var t=this.state.audioCtx,e=this.state.clickFx,n=this.state.mediaLoading;if(void 0===t&&(t=new(window.AudioContext||window.webkitAudioContext)),e){console.log(""+(this.state.count+1)),console.log(e);var r=t.createBufferSource();r.buffer=e,r.connect(t.destination),r.start(),this.setState({count:this.state.count+1})}else{if(n)return void console.log("media loading");n=!0,console.log("Loading Audio Files");var s=this,i=new XMLHttpRequest;i.open("GET","/fretcharts/mp3/snare.mp3",!0),i.responseType="arraybuffer",i.onload=function(){try{if(200===i.status){var e=i.response;console.log("Media Loaded: ",i),t.decodeAudioData(e,(function(t){console.log("Buffer Loaded",t,s),s.setState({clickFx:t})}),(function(t){console.log("Error",t)}))}else console.log("Media Load Failed "+this.response.status)}catch(n){console.log("Error",n)}},i.send()}this.setState({mediaLoading:n,audioCtx:t})}catch(o){console.log("Error",o)}}},{key:"doneLoading",value:function(){console.log("Done Loading")}},{key:"updateInterval",value:function(t){var e=this,n=this.state.interval;if(n&&(clearInterval(n),n=null),t){var r=6e4/this.state.bpm;console.log("Running at "+r),n=setInterval((function(){return e.beep()}),r)}return n}},{key:"startStop",value:function(){var t=!this.state.playing,e=this.updateInterval(t);this.setState({count:0,playing:t,interval:e})}},{key:"setBpm",value:function(t){var e=t.target.value;this.setState({bpm:e}),console.log("BPM = "+e)}},{key:"setBpb",value:function(t){this.setState({bpb:t.target.value})}},{key:"render",value:function(){var t=this;return Object(f.jsxs)("div",{className:"metronome",children:[Object(f.jsx)("input",{type:"number",min:2,max:8,size:6,maxLength:6,defaultValue:this.state.bpb,onChange:function(e){return t.setBpb(e)}}),Object(f.jsx)("div",{className:"label",children:"Beats per bar"}),Object(f.jsx)("input",{type:"number",min:1,max:200,size:6,maxLength:6,defaultValue:this.state.bpm,onChange:function(e){return t.setBpm(e)}}),Object(f.jsx)("div",{className:"label",children:"Beats per minute"}),Object(f.jsx)("button",{onClick:function(e){return t.startStop()},children:this.state.playing?"Stop":"Play"})]})}}]),n}(s.a.Component),x=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"getBarCount",value:function(){return 0}},{key:"getBar",value:function(){return 0}},{key:"renderProgression",value:function(){for(var t=[],e=this.props.scales,n=this.props.progression,r=0;r<n.length;r+=1){var s=e[n[r]];t[t.length]=s}console.log("Progression",t);var i=this.getBar();return t.map((function(t,e){var n={backgroundColor:t.color,opacity:e===i?1:.25};return Object(f.jsx)("div",{className:"pill",style:n,children:t.name},"c"+e)}))}},{key:"render",value:function(){return Object(f.jsx)("div",{className:"progressions",children:this.renderProgression()},"progression")}}]),n}(s.a.Component),C=x,E=function(){function t(){Object(a.a)(this,t);var e={},n=document.location.search;if(n&&n.length>1){"?"===n.charAt(0)&&(n=n.substring(1));for(var r=n.split("&"),s=0;s<r.length;s++){var i=r[s].split("=");if(i&&2===i.length){var o=i[0],c=i[1],l=e[o];void 0===l?e[o]=[c]:l[l.length]=c}}}this.values=e}return Object(c.a)(t,[{key:"getValues",value:function(t,e){return this.values[t]?this.values[t]:e}},{key:"getValue",value:function(t,e){var n=this.getValues(t);return n&&n.length>0?n[0]:e}},{key:"getValueAsInt",value:function(t){var e=this.getValue(t);return e?Number.parseInt(e):void 0}}]),t}(),T=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(t){var r;Object(a.a)(this,n),r=e.call(this,t);var s=new R,i=new E,o=i.getValue("key"),c=o&&S.KEYS[o]?S.KEYS[o]:S.KEYS.C_MAJOR,l=i.getValues("s");if(l&&l.length>0)for(var u=0;u<l.length;u+=1)if(l[u]){var h=l[u].split(".");if(3===h.length){var f=Number.parseInt(h[0]),b=Number.parseInt(h[1]),p=Number.parseInt(h[2]),d=s.createScalePatternAt(f,b),g=S.getPositionsForString(f);p<g.length&&d.setPosition(g[p]),console.log("Loading Scale ",d)}}return r.state={key:c,scales:s.scales,guitarState:s,progression:[],bpm:i.getValue("bpm",60),bpb:i.getValue("bpb",4)},r}return Object(c.a)(n,[{key:"reloadGuitarState",value:function(){this.setState({guitarState:this.state.guitarState})}},{key:"updateKey",value:function(t){this.setState({key:t})}},{key:"deleteScale",value:function(t){this.state.guitarState.deleteScalePattern(t),this.reloadGuitarState()}},{key:"updatePosition",value:function(t,e){console.log("Swap Position",e,t),t.setPosition(e),this.reloadGuitarState()}},{key:"getRowNumberForScale",value:function(t){return this.state.scales.indexOf(t)}},{key:"addToProgression",value:function(t){var e=this.getRowNumberForScale(t);if(e>=0){var n=this.state.progression;n[n.length]=e,console.log(n),this.setState({progression:n})}}},{key:"onNoteClick",value:function(t){var e=this.state.guitarState.createScalePatternAt(t.stringNumber,t.fret);console.log("Scale Added",e),this.reloadGuitarState()}},{key:"onCheck",value:function(t){t.enabled=!t.enabled,this.setState({scales:this.state.scales})}},{key:"render",value:function(){for(var t=this,e=this.state.guitarState.strings[0].tones.length,n=Object.values(S.KEYS),r=[],s=0;s<e;s++){var i="";3===s||5===s||7===s||9===s||15===s||17===s||19===s||21===s?i+="\u25cf":12===s&&(i+="\u25cf\u25cf"),r.push(Object(f.jsx)("div",{className:"fret-marker",children:i},"fretMarker"+s))}var o=this.state.guitarState.scalePatterns;return Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"keySelector",children:[Object(f.jsx)(v,{label:"Key",onChange:function(e){return t.updateKey(e)},options:n,value:this.state.key},"keySelector"),Object(f.jsx)(y,{scales:o,bpb:this.state.bpb,bpm:this.state.bpm})]}),Object(f.jsx)(C,{scales:o,progression:this.state.progression}),Object(f.jsxs)("div",{className:"fret-board",children:[this.state.guitarState.strings.map((function(e){return Object(f.jsx)(g,{musicKey:t.state.key,value:e,onClick:function(e,n,r){return t.onNoteClick(e,n,r)},scales:o},e.uid)})),Object(f.jsx)("div",{className:"fret-markers",children:r})]}),Object(f.jsxs)("div",{className:"scaleTable",children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{children:"Color"}),Object(f.jsx)("div",{children:"Root"}),Object(f.jsx)("div",{children:"Position"}),Object(f.jsx)("div",{children:"..."})]}),o.map((function(e){return Object(f.jsx)(M,{onDelete:function(e){return t.deleteScale(e)},onChange:function(e,n){return t.updatePosition(e,n)},onCheck:function(e){return t.onCheck(e)},addToProgression:function(e){return t.addToProgression(e)},value:e},e.uid)}))]})]})}}]),n}(s.a.Component);var F=function(){return Object(f.jsx)("div",{className:"App",children:Object(f.jsx)(T,{},"fretboard")})};o.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(F,{})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.518c2cb5.chunk.js.map